<div class="flex min-h-screen flex-col bg-gray-100 dark:bg-gray-900">
  <ui-nav-bar [sidebarContent]="sidebarTemplate">
    <a
      routerLink="/scribo/landing"
      routerLinkActive="active"
      class="cursor-pointer text-gray-700 hover:underline dark:text-gray-300"
      >Home</a
    >
    @if (isAuthenticated()) {
      <a
        routerLink="/scribo/list"
        routerLinkActive="active"
        class="cursor-pointer text-gray-700 hover:underline dark:text-gray-300"
        data-testid="nav-articles-link"
        >Articles</a
      >
      <a
        routerLink="/scribo/user-profile"
        routerLinkActive="active"
        class="cursor-pointer text-gray-700 hover:underline dark:text-gray-300"
        data-testid="nav-profile-link"
        >Profile</a
      >
    }
  </ui-nav-bar>

  <ng-template #sidebarTemplate>
    <div class="px-6 py-4">
      <a
        routerLink="/scribo/landing"
        class="block py-2 text-gray-700 hover:underline dark:text-gray-300"
        data-testid="sidebar-home-link"
        >Home</a
      >
      @if (isAuthenticated()) {
        <a
          routerLink="/scribo/list"
          class="block py-2 text-gray-700 hover:underline dark:text-gray-300"
          data-testid="sidebar-articles-link"
          >Articles</a
        >
        <a
          routerLink="/scribo/user-profile"
          class="block py-2 text-gray-700 hover:underline dark:text-gray-300"
          data-testid="sidebar-profile-link"
          >Profile</a
        >
        <ui-button
          type="button"
          text="Logout"
          color="primary"
          size="small"
          class="mt-4"
          data-testid="sidebar-logout-button"
          (btnClick)="logout()"
        ></ui-button>
      } @else {
        <ui-button
          type="button"
          text="Login"
          color="primary"
          class="mt-4"
          (btnClick)="login()"
          data-testid="sidebar-login-button"
        ></ui-button>
      }
      <div class="mt-8 rounded bg-gray-200 p-4 dark:bg-gray-700">
        <p class="text-sm text-gray-500 dark:text-gray-400">Additional Sidebar Info</p>
      </div>
    </div>
  </ng-template>

  <div class="flex-grow">
    <router-outlet></router-outlet>
  </div>
  <scrb-layout-footer class="mt-auto"></scrb-layout-footer>
</div>
